import{_ as n,c as a,o as s,a as t}from"./app.ff3b22ed.js";const b='{"title":"HybirdApp","description":"","frontmatter":{"date":"2020-11-17T00:00:00.000Z","title":"HybirdApp","tags":["HybirdApp","JSBridge"],"describe":"\u5B89\u5353\u6DF7\u5408\u5F00\u53D1"},"headers":[{"level":2,"title":"Android->H5:","slug":"android-h5"},{"level":2,"title":"H5->Anroid","slug":"h5-anroid"},{"level":2,"title":"\u79BB\u7EBF\u5305\u3001\u8865\u4E01\u5305","slug":"\u79BB\u7EBF\u5305\u3001\u8865\u4E01\u5305"}],"relativePath":"basics/HybirdApp.md","lastUpdated":1643984740366}',e={},p=t(`<p>\u79FB\u52A8\u7AEF\u5185\u6838\u5BB9\u5668\u7EDF\u79F0webview, Iphone\u7684UIWebView\uFF08iOS 2.0\u201312.0\uFF09\u3001WKWebView\uFF08iOS 8.0+\uFF0CmacOS 10.10+\uFF09\u548CAndroid\u7684WebView\u3002<a href="https://blog.csdn.net/sk719887916/article/details/86552854" target="_blank" rel="noopener noreferrer">Android\u4ECE4.4 \u5F00\u59CB\u7528Chromium\u52A8\u6001\u52A0\u8F7D\u5B9E\u73B0\u7F51\u9875\u6E32\u67D3\u5F15\u64CE</a>\u3002</p><p>Chromium \u6E32\u67D3\u5F15\u64CE\u5B9E\u9645\u4E0A\u662F\u7531Browser\u8FDB\u7A0B\u3001Render\u8FDB\u7A0B\u548CGPU\u8FDB\u7A0B\u7EC4\u6210\u7684\u3002\u5176\u4E2D\uFF0CBrowser\u8FDB\u7A0B\u8D1F\u8D23\u5C06\u7F51\u9875\u89E3\u6790\u7684UI\u5408\u6210 \u52A0\u901F\u5C55\u73B0\u5728\u9875\u9762\u4E0A\uFF0CRender \u8FDB\u7A0B \u53EA\u8981\u8D1F\u8D23\u52A0\u8F7D\u548C\u6E32\u67D3\u7F51\u9875\uFF0CGPU \u8FDB\u7A0B \u8D1F\u8D23 Browser \u8FDB\u7A0B \u548CRender\u8FDB\u7A0B\u53D1\u51FA\u7684GPU\u6D88\u606F\u3002</p><p>\u6211\u4EEC\u7684\u521B\u5EFAWebView\u65F6\u5019\u5C31\u4F1A\u521B\u5EFA\u542F\u52A8Chromium \uFF0CChromium\u4E2D\u6709webCore\u5F15\u64CE\u548C<a href="https://blog.csdn.net/sk719887916/article/details/86427050" target="_blank" rel="noopener noreferrer">JsCore\u5F15\u64CE</a>\u3002Chrome\u6D4F\u89C8\u5668\u4E2D\u7684\u662FV8\u5F15\u64CE\u3002</p><p>WebCore\u8D1F\u8D23\u5BF9HTML\u89E3\u6790\uFF0CCSS\u89E3\u6790\uFF0C\u6E32\u67D3UI\uFF0C\u8C03\u8BD5\u4FE1\u606F\u7B49\u90E8\u5206\u3002</p><h1 id="jsbridge\u4EA4\u4E92" tabindex="-1">JSBridge\u4EA4\u4E92 <a class="header-anchor" href="#jsbridge\u4EA4\u4E92" aria-hidden="true">#</a></h1><h2 id="android-h5" tabindex="-1">Android-&gt;H5: <a class="header-anchor" href="#android-h5" aria-hidden="true">#</a></h2><pre><code>\u901A\u8FC7javascriptInterface\u6CE8\u89E3\u5B9E\u73B0\u539F\u751F\u65B9\u6CD5\uFF0CwebView.addJavascriptInterface\u8FDB\u884C\u7ED1\u5B9A
\u901A\u8FC7webview.evaluateJavascript(&quot;javascript:window[&#39;...&#39;]&quot;)\uFF0C\u4F4E\u7248\u672C\u901A\u8FC7webview.loadUrl(str)\u6267\u884C\u56DE\u8C03\u65B9\u6CD5
</code></pre><div class="language-java"><pre><code>    <span class="token comment">// \u672C\u5730</span>
    webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">&quot;file:///android_asset/demo.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//4.2\u4E4B\u524D, \u4F7F\u5F97webView\u52A0\u8F7Djs\u53EA\u9700\u5982\u4E0B\u4EE3\u7801\uFF0C\u5411WebView\u4E2D\u4EE5\u6307\u5B9A\u7684\u540D\u79F0name\u6CE8\u5165\u6307\u5B9A\u7684Java\u5BF9\u8C61object\uFF1A</span>
    mWebView<span class="token punctuation">.</span><span class="token function">addJavascriptInterface</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JsBridge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;JsBridge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">//4.2\u4E4B\u540E\u8C03\u7528\u9700\u8981\u5728\u8C03\u7528\u65B9\u6CD5\u52A0\u5165\u52A0\u5165@JavascriptInterface\u6CE8\u89E3,\u5426\u5219\u65E0\u6CD5\u751F\u6548</span>


    <span class="token keyword">class</span> jsObject <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@JavascriptInterface</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;injectedObject&quot;</span> <span class="token operator">+</span> args<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    webview<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setJavaScriptEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    webView<span class="token punctuation">.</span><span class="token function">addJavascriptInterface</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JsObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;injectedObject&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    webView<span class="token punctuation">.</span><span class="token function">loadData</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">&quot;javascript:alert(injectedObject.toString())&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">//\u6216\u8005\u5728H5\u4E2D\u8C03\u7528window.injectedObject.toString()\u65B9\u6CD5</span>
    
</code></pre></div><h2 id="h5-anroid" tabindex="-1">H5-&gt;Anroid <a class="header-anchor" href="#h5-anroid" aria-hidden="true">#</a></h2><pre><code>\u8C03\u7528window\u5BF9\u8C61\u4E0A\u7684\u539F\u751F\u65B9\u6CD5\u3001\u56DE\u8C03\u65B9\u6CD5

\u901A\u8FC7WebViewClient.shouldOverrideUrlLoading() \u8FD9\u4E2AAPI\uFF0C\u539F\u751F\u53EF\u62E6\u622AUrl\uFF0C\u89E3\u6790\u548C\u6267\u884C\u672C\u5730\u65B9\u6CD5
</code></pre><h2 id="\u79BB\u7EBF\u5305\u3001\u8865\u4E01\u5305" tabindex="-1">\u79BB\u7EBF\u5305\u3001\u8865\u4E01\u5305 <a class="header-anchor" href="#\u79BB\u7EBF\u5305\u3001\u8865\u4E01\u5305" aria-hidden="true">#</a></h2>`,11),o=[p];function c(i,r,l,u,d,k){return s(),a("div",null,o)}var w=n(e,[["render",c]]);export{b as __pageData,w as default};
